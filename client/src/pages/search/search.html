<ion-header>
    <ion-searchbar ng-model-options="{ debounce: 1000 }" (ionInput)="getItems($event)"></ion-searchbar>
    <ion-toolbar>
        <ion-segment [(ngModel)]="searchType">
            <ion-segment-button value="movies" (click)="getItems()">
                At cinemas
            </ion-segment-button>
            <ion-segment-button value="users" (click)="getItems()">
                Users
            </ion-segment-button>
        </ion-segment>
    </ion-toolbar>
</ion-header>

<ion-content padding>
    <div [ngSwitch]="searchType">
        <ion-list *ngSwitchCase="'users'">
            <ion-item *ngFor="let item of users" (click)="chooseUser(item)">
                <ion-avatar item-left>
                    <img src="{{item.avatarUrl}}">
                </ion-avatar>
                <h2> {{ item.name }}</h2>
            </ion-item>
        </ion-list>
        <ion-list *ngSwitchCase="'movies'">
            <ion-item *ngFor="let item of movies" (click)="chooseMovie(item)">
                <ion-thumbnail item-left>
                    <img src="http://image.tmdb.org/t/p/w185/{{item.posterPath}}">
                </ion-thumbnail>
                <h2> {{ item.title }}</h2>
                <!--<h3> {{item.releaseDate | amTimeAgo}} </h3>-->
            </ion-item>
        </ion-list>
    </div>
</ion-content>
